<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LeonOS</title>

<style>
/* GENERAL */
body {
  margin: 0;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

/* DESKTOP */
#desktop {
  width: 100vw;
  height: 100vh;
  position: relative;
}

#wallpaper {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  z-index: -1;
}

/* DESKTOP ICONS */
.desktop-icon {
  width: 80px;
  text-align: center;
  color: white;
  cursor: pointer;
  margin: 20px;
  position: absolute;
}

.desktop-icon img {
  width: 60px;
  height: 60px;
}

/* TASKBAR */
#taskbar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40px;
  background: rgba(20,20,20,0.8);
  display: flex;
  align-items: center;
  padding: 0 10px;
}

#taskbar button {
  background: #2d2d2d;
  border: none;
  color: white;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
}

/* START MENU */
#start-menu {
  position: fixed;
  bottom: 40px;
  left: 10px;
  width: 200px;
  background: rgba(30,30,30,0.95);
  border: 1px solid #444;
  padding: 10px;
}

.hidden {
  display: none;
}

.start-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px;
  cursor: pointer;
  color: white;
}

.start-item:hover {
  background: #444;
}

.start-item img {
  width: 24px;
  height: 24px;
}

/* WINDOWS */
.window {
  position: absolute;
  width: 900px;
  height: 600px;
  background: #1a1a1a;
  border: 1px solid #333;
  border-radius: 6px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: width 0.25s ease;
}

.window.expanded {
  width: 1400px;
}

.window-header {
  background: #222;
  padding: 6px;
  cursor: move;
  display: flex;
  align-items: center;
  gap: 10px;
}

.window-header img {
  width: 20px;
  height: 20px;
}

.window-header span {
  flex: 1;
  color: white;
}

.window-header button {
  background: red;
  border: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  cursor: pointer;
}

/* CONTENT AREA */
.window-content {
  flex: 1;
  display: flex;
  background: #000;
  position: relative;
}

/* BROWSER TOOLBAR */
.browser-toolbar {
  display: flex;
  gap: 6px;
  padding: 6px;
  background: #111;
}

.browser-toolbar input {
  flex: 1;
  padding: 6px;
  background: #222;
  border: 1px solid #444;
  color: white;
}

.browser-toolbar button {
  padding: 6px 10px;
  background: #2d7dff;
  border: none;
  color: white;
  cursor: pointer;
}

/* SPLIT VIEW */
.ai-panel {
  width: 450px;
  background: #111;
  border-right: 1px solid #333;
}

.ai-panel iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.browser-area {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.browser-frame {
  flex: 1;
  border: none;
}

/* CODE EDITOR LAYOUT */
.code-editor-container {
  display: flex;
  width: 100%;
  height: 100%;
}

.code-left {
  width: 40%;
  background: #111;
  display: flex;
  flex-direction: column;
}

.code-left textarea {
  flex: 1;
  background: #000;
  color: #0f0;
  border: none;
  padding: 10px;
  font-family: monospace;
  font-size: 14px;
  resize: none;
}

.code-right {
  width: 60%;
  display: flex;
  flex-direction: column;
}

.code-preview {
  flex: 1;
  border: none;
}

.code-ai {
  height: 40%;
  border-top: 1px solid #333;
}

.code-ai iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* RESIZE HANDLE */
.resize-handle {
  width: 16px;
  height: 16px;
  background: #444;
  position: absolute;
  right: 0;
  bottom: 0;
  cursor: se-resize;
  border-top-left-radius: 4px;
}
</style>
</head>

<body>

<!-- DESKTOP -->
<div id="desktop">
  <img id="wallpaper" src="https://wallpapers-clan.com/wp-content/uploads/2024/03/starfall-night-sky-mountains-aesthetic-gif-cover-desktop-wallpaper.gif">

  <!-- Narnia Icon -->
  <div class="desktop-icon" id="icon-narnia" style="top:20px; left:20px;">
    <img src="https://logodix.com/logo/53558.png">
    <span>Narnia</span>
  </div>

  <!-- EaglerCraft Icon -->
  <div class="desktop-icon" id="icon-eagler" style="top:20px; left:120px;">
    <img src="https://styles.redditmedia.com/t5_60aj9d/styles/communityIcon_serayq82g91a1.jpg?format=pjpg&s=3262e0b1499369a43c9123d5610d8fbfa462062c">
    <span>EaglerCraft</span>
  </div>

  <!-- Code Studio Icon -->
  <div class="desktop-icon" id="icon-code" style="top:20px; left:220px;">
    <img src="https://cdn-icons-png.flaticon.com/512/906/906324.png">
    <span>Code Studio</span>
  </div>
</div>

<!-- TASKBAR -->
<div id="taskbar">
  <button id="start-btn">Start</button>
  <div id="clock" style="margin-left:auto; color:white; font-size:14px; padding-right:10px;"></div>
</div>

<!-- START MENU -->
<div id="start-menu" class="hidden">
  <div class="start-item" id="start-narnia">
    <img src="https://logodix.com/logo/53558.png">
    <span>Narnia Browser</span>
  </div>

  <div class="start-item" id="start-eagler">
    <img src="https://styles.redditmedia.com/t5_60aj9d/styles/communityIcon_serayq82g91a1.jpg?format=pjpg&s=3262e0b1499369a43c9123d5610d8fbfa462062c">
    <span>EaglerCraft</span>
  </div>

  <div class="start-item" id="start-code">
    <img src="https://cdn-icons-png.flaticon.com/512/906/906324.png">
    <span>Code Studio</span>
  </div>
</div>

<!-- WINDOW AREA -->
<div id="window-area"></div>

<script>
/* START MENU TOGGLE */
document.getElementById("start-btn").onclick = () => {
  document.getElementById("start-menu").classList.toggle("hidden");
};

/* ICON + START MENU â†’ OPEN APPS */
document.getElementById("icon-narnia").onclick = openNarnia;
document.getElementById("start-narnia").onclick = openNarnia;

document.getElementById("icon-eagler").onclick = openEagler;
document.getElementById("start-eagler").onclick = openEagler;

document.getElementById("icon-code").onclick = openCodeStudio;
document.getElementById("start-code").onclick = openCodeStudio;

/* CREATE WINDOW */
function createWindow(title, icon, content) {
  const win = document.createElement("div");
  win.className = "window";
  win.style.left = "120px";
  win.style.top = "120px";

  win.innerHTML = `
    <div class="window-header">
      <img src="${icon}">
      <span>${title}</span>
      <button class="close-btn"></button>
    </div>
    ${content}
    <div class="resize-handle"></div>
  `;

  document.getElementById("window-area").appendChild(win);

  /* CLOSE BUTTON */
  win.querySelector(".close-btn").onclick = () => win.remove();

  /* DRAGGING */
  let drag = false, offsetX, offsetY;

  win.querySelector(".window-header").onmousedown = (e) => {
    drag = true;
    offsetX = e.clientX - win.offsetLeft;
    offsetY = e.clientY - win.offsetTop;
  };

  document.addEventListener("mousemove", (e) => {
    if (drag) {
      win.style.left = (e.clientX - offsetX) + "px";
      win.style.top = (e.clientY - offsetY) + "px";
    }
  });

  document.addEventListener("mouseup", () => drag = false);

  /* RESIZING */
  const handle = win.querySelector(".resize-handle");
  let resizing = false, startX, startY, startW, startH;

  handle.onmousedown = (e) => {
    resizing = true;
    startX = e.clientX;
    startY = e.clientY;
    startW = win.offsetWidth;
    startH = win.offsetHeight;
    e.preventDefault();
  };

  document.addEventListener("mousemove", (e) => {
    if (resizing) {
      win.style.width = Math.max(500, startW + (e.clientX - startX)) + "px";
      win.style.height = Math.max(300, startH + (e.clientY - startY)) + "px";
    }
  });

  document.addEventListener("mouseup", () => resizing = false);

  return win;
}

/* NARNIA BROWSER WITH DEEPSEEK */
function openNarnia() {
  const content = `
    <div class="browser-toolbar">
      <input id="narnia-url" placeholder="Search or enter URL">
      <button id="narnia-go">Go</button>
      <button id="narnia-ai">AI</button>
    </div>

    <div class="window-content">
      <div class="ai-panel hidden" id="ai-panel">
        <iframe src="https://chat.deepseek.com/"></iframe>
      </div>

      <div class="browser-area">
        <iframe class="browser-frame" id="browser-frame" src="https://duckduckgo.com"></iframe>
      </div>
    </div>
  `;

  const win = createWindow("Narnia Browser", "https://logodix.com/logo/53558.png", content);

  const urlInput = win.querySelector("#narnia-url");
  const goBtn = win.querySelector("#narnia-go");
  const frame = win.querySelector("#browser-frame");
  const aiBtn = win.querySelector("#narnia-ai");
  const aiPanel = win.querySelector("#ai-panel");

  function loadURL() {
    let url = urlInput.value.trim();
    if (!url) return;
    if (!url.startsWith("http")) {
      url = "https://duckduckgo.com/?q=" + encodeURIComponent(url);
    }
    frame.src = url;
  }

  goBtn.onclick = loadURL;
  urlInput.onkeydown = (e) => { if (e.key === "Enter") loadURL(); };

  aiBtn.onclick = () => {
    aiPanel.classList.toggle("hidden");
    win.classList.toggle("expanded");
  };
}

/* EAGLERCRAFT APP */
function openEagler() {
  const content = `
    <div class="window-content">
      <iframe style="width:100%; height:100%; border:none;" src="https://eaglercraft.com/"></iframe>
    </div>
  `;

  createWindow(
    "EaglerCraft",
    "https://styles.redditmedia.com/t5_60aj9d/styles/communityIcon_serayq82g91a1.jpg?format=pjpg&s=3262e0b1499369a43c9123d5610d8fbfa462062c",
    content
  );
}

/* CODE STUDIO APP */
function openCodeStudio() {
  const content = `
    <div class="window-content">
      <div class="code-editor-container">

        <div class="code-left">
          <textarea id="code-editor">
<!DOCTYPE html>
<html>
<head>
<style>
body { background: black; color: lime; font-family: monospace; }
</style>
</head>
<body>
<h1>Hello LeonOS</h1>
<p>This is your live preview.</p>
</body>
</html>
          </textarea>
        </div>

        <div class="code-right">
          <iframe class="code-preview" id="code-preview"></iframe>

          <div class="code-ai">
            <iframe src="https://chat.deepseek.com/"></iframe>
          </div>
        </div>

      </div>
    </div>
  `;

  const win = createWindow(
    "Code Studio",
    "https://cdn-icons-png.flaticon.com/512/906/906324.png",
    content
  );

  const editor = win.querySelector("#code-editor");
  const preview = win.querySelector("#code-preview");

  function updatePreview() {
    preview.srcdoc = editor.value;
  }

  editor.addEventListener("input", updatePreview);
  updatePreview();
}

/* CLOCK */
function updateClock() {
  const now = new Date();
  const h = now.getHours().toString().padStart(2, "0");
  const m = now.getMinutes().toString().padStart(2, "0");
  document.getElementById("clock").textContent = `${h}:${m}`;
}
setInterval(updateClock, 1000);
updateClock();
</script>

</body>
</html>


